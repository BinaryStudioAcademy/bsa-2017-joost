<div class="main-layout mdl-js-layout mdl-layout--fixed-drawer">
  <div class="left-panel mdl-layout__drawer mdl-color-text--blue-grey-50">
    <div *ngIf="curUser">
      <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
        <header>
          <div class="left-panel-header">
            <a [routerLink]="['user-editing']">
              <div class="avatar-container">
<<<<<<< HEAD
                <img src="{{curUser.Avatar | avatarPipe}}" class="main-avatar">
                <!-- <div class="online-indicator"></div> -->
=======
                <img src="{{avatarImgSrc | avatarPipe}}" class="main-avatar">
                <div class="online-indecator"></div>
>>>>>>> a3937b4c172d382db29cf29d5917f8d832e46f73
              </div>
            </a>
            <div class="left-panel-user-info">
              <a [routerLink]="['user-editing']" skipLocationChange>
                  <div class="header-user-name" *ngIf="curUser.FirstName">{{curUser.FirstName + ' ' + curUser.LastName}}</div>
                  <div class="header-user-name" *ngIf="!curUser.FirstName">{{curUser.Email}}</div>
              </a>
              <div class="status">
                <div class="mdl-textfield " *ngIf="editMode; else showMode">
                  <input      
                    class="mdl-textfield__input"          
                    type="text" 
                    [(ngModel)]="curUser.Status">
                    <i class="material-icons" (click)="onSaveStatus()">done</i>
                    <i class="material-icons" (click)="onCancelEdit()">clear</i>
                  </div>
                <ng-template #showMode>
                  <span class="status-text" (click)="onEditStatus()">
                    <span *ngIf="curUser.Status; else showLabel" >{{curUser.Status}}</span>
                    <ng-template #showLabel>
                      <span class="status-message">change status...</span>
                    </ng-template>
                    <i class="material-icons create-icon">create</i>
                  </span>
                </ng-template>
              </div>
            </div>
            <a href="#settings-panel" class="mdl-tabs__tab setting-button" [routerLink]="['settings']"><i class="material-icons">settings</i></a>
          </div>        
        </header>      
        <div class="mdl-tabs__tab-bar">
          <a href="#message-panel" class="mdl-tabs__tab is-active"><i class="material-icons">message</i></a>
          <a href="#people-panel" class="mdl-tabs__tab"><i class="material-icons">people</i></a>
          <a href="#search-panel" class="mdl-tabs__tab"><i class="material-icons">search</i></a>
          <a href="#add-panel" class="mdl-tabs__tab" (click)="onCreateGroup()">
            <i class="material-icons">add_circle</i>
          </a>          
        </div>
        <div class="mdl-tabs__panel is-active" id="message-panel">
          <app-menu-messages></app-menu-messages>
        </div>
        <div class="mdl-tabs__panel" id="people-panel">
          <app-menu-users></app-menu-users>
        </div>
        <div class="mdl-tabs__panel" id="search-panel">
          <app-menu-search></app-menu-search>
        </div>
        <div class="mdl-tabs__panel" id="settings-panel">
          <app-menu-settings></app-menu-settings>
        </div>
        <div class="mdl-tabs__panel" id="add-panel">
            <app-menu-add></app-menu-add>
        </div>
      </div>
    </div> 
  </div>
</div>
<main class="main-content-container mdl-color--grey-100">
  <router-outlet></router-outlet>
</main>